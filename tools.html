<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pat Williams | Tools</title>
    <link rel="stylesheet" href="Favcss.css">
    <link rel="icon" href="https://cdn3.emoji.gg/emojis/15862-crown.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            --glass-blur: blur(10px);
        }

        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
            z-index: 9999;
            font-family: 'Courier New', monospace;
        }
        .loader-content {
            text-align: center;
        }
        .loader-text {
            color: #fff;
            font-size: 1.2rem;
            text-shadow: 0 0 10px #fff;
            margin-top: 20px;
            letter-spacing: 2px;
        }
        .loader-icon {
            width: 60px;
            height: 60px;
            background-image: url('https://cdn3.emoji.gg/emojis/15862-crown.png');
            background-size: contain;
            background-repeat: no-repeat;
            filter: invert(1);
            margin: 0 auto;
        }
        .glow-text {
            color: #fff;
            text-shadow: 0 0 5px #fff, 0 0 10px #aaa;
            animation: white-glow 2s ease-in-out infinite alternate;
        }
        @keyframes white-glow {
            from { text-shadow: 0 0 5px #fff; }
            to { text-shadow: 0 0 15px #fff, 0 0 20px #888; }
        }

        /* Glassmorphism Styles */
        .tool-section {
            margin-bottom: 40px;
        }
        .tool-section h2 {
            margin-bottom: 20px;
            color: white;
            font-weight: 600;
        }
        .tool-container {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            transition: all 0.3s ease;
        }
        .tool-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        .tool-container h3 {
            margin-bottom: 15px;
            color: white;
            font-size: 1.3rem;
        }
        .tool-input {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .tool-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(255, 71, 87, 0.3);
        }
        .tool-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 1rem;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .tool-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 71, 87, 0.4);
        }
        .tool-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .tool-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        .tool-result {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            word-break: break-all;
            font-family: monospace;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        textarea.tool-input {
            min-height: 120px;
            resize: vertical;
        }
        .tab-buttons {
            display: flex;
            margin-bottom: 25px;
            gap: 10px;
            flex-wrap: wrap;
        }
        .tab-btn {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        .tab-btn.active {
            background: var(--accent);
            box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
        }
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .tab-content.active {
            display: block;
        }
        .checkbox-group {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--accent);
        }
    </style>
</head>
<body>
    <div class="loader" id="loader">
        <div class="loader-content">
            <div class="loader-icon"></div>
            <div class="loader-text glow-text">.gg/favnc</div>
        </div>
    </div>

    <div class="container" id="main-content" style="display: none;">
        <header class="header">
            <div class="logo">
                <div class="logo-icon"></div>
                <div class="logo-text">Pat Williams</div>
            </div>
            <nav class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="main.html" class="nav-link">Profile</a>
                <a href="tools.html" class="nav-link active">Tools</a>
                <a href="license.html" class="nav-link">License</a>
            </nav>
        </header>

        <main>
            <h1 class="glow-text">Developer Tools</h1>
            
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="openTab('web-tools')">Web Tools</button>
                <button class="tab-btn" onclick="openTab('code-tools')">Code Tools</button>
                <button class="tab-btn" onclick="openTab('discord-tools')">Discord Tools</button>
                <button class="tab-btn" onclick="openTab('game-tools')">Game Dev</button>
                <button class="tab-btn" onclick="openTab('other-tools')">Other</button>
            </div>

            <div id="web-tools" class="tab-content active">
                <div class="tool-section">
                    <h2>Web Development Tools</h2>
                    
                    <div class="tool-container">
                        <h3>Discord Webhook Sender</h3>
                        <input type="text" class="tool-input" id="webhook-url" placeholder="Webhook URL">
                        <input type="text" class="tool-input" id="webhook-username" placeholder="Username (optional)">
                        <textarea class="tool-input" id="webhook-message" placeholder="Message content"></textarea>
                        <button class="tool-btn" onclick="sendWebhook()">Send Message</button>
                        <div class="tool-result" id="webhook-result"></div>
                    </div>

                    <div class="tool-container">
                        <h3>JSON Formatter</h3>
                        <textarea class="tool-input" id="json-input" placeholder="Paste JSON here"></textarea>
                        <button class="tool-btn" onclick="formatJSON()">Format JSON</button>
                        <div class="tool-result" id="json-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Base64 Encoder/Decoder</h3>
                        <textarea class="tool-input" id="base64-input" placeholder="Enter text to encode/decode"></textarea>
                        <button class="tool-btn" onclick="encodeBase64()">Encode</button>
                        <button class="tool-btn secondary" onclick="decodeBase64()">Decode</button>
                        <div class="tool-result" id="base64-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>URL Encoder/Decoder</h3>
                        <textarea class="tool-input" id="url-input" placeholder="Enter URL to encode/decode"></textarea>
                        <button class="tool-btn" onclick="encodeURL()">Encode</button>
                        <button class="tool-btn secondary" onclick="decodeURL()">Decode</button>
                        <div class="tool-result" id="url-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>HTML Escape/Unescape</h3>
                        <textarea class="tool-input" id="html-input" placeholder="Enter HTML to escape/unescape"></textarea>
                        <button class="tool-btn" onclick="escapeHTML()">Escape</button>
                        <button class="tool-btn secondary" onclick="unescapeHTML()">Unescape</button>
                        <div class="tool-result" id="html-output"></div>
                    </div>
                </div>
            </div>

            <div id="code-tools" class="tab-content">
                <div class="tool-section">
                    <h2>Programming Tools</h2>
                    
                    <div class="tool-container">
                        <h3>Color Hex Converter</h3>
                        <input type="text" class="tool-input" id="hex-input" placeholder="Enter hex color (#RRGGBB)">
                        <button class="tool-btn" onclick="convertHex()">Convert</button>
                        <div class="tool-result" id="hex-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>RGB to HEX</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px;">
                            <input type="number" class="tool-input" id="rgb-r" placeholder="R (0-255)" min="0" max="255">
                            <input type="number" class="tool-input" id="rgb-g" placeholder="G (0-255)" min="0" max="255">
                            <input type="number" class="tool-input" id="rgb-b" placeholder="B (0-255)" min="0" max="255">
                        </div>
                        <button class="tool-btn" onclick="rgbToHex()">Convert</button>
                        <div class="tool-result" id="rgb-hex-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Timestamp Converter</h3>
                        <input type="text" class="tool-input" id="timestamp-input" placeholder="Enter timestamp or date">
                        <button class="tool-btn" onclick="convertTimestamp()">Convert</button>
                        <div class="tool-result" id="timestamp-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>UUID Generator</h3>
                        <button class="tool-btn" onclick="generateUUID()">Generate UUID</button>
                        <div class="tool-result" id="uuid-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Lorem Ipsum Generator</h3>
                        <input type="number" class="tool-input" id="lorem-count" placeholder="Number of paragraphs" min="1" max="20" value="3">
                        <button class="tool-btn" onclick="generateLorem()">Generate</button>
                        <div class="tool-result" id="lorem-output"></div>
                    </div>
                </div>
            </div>

            <div id="discord-tools" class="tab-content">
                <div class="tool-section">
                    <h2>Discord Tools</h2>
                    
                    <div class="tool-container">
                        <h3>Discord Embed Generator</h3>
                        <input type="text" class="tool-input" id="embed-title" placeholder="Embed title">
                        <input type="text" class="tool-input" id="embed-color" placeholder="Hex color (#RRGGBB)">
                        <textarea class="tool-input" id="embed-desc" placeholder="Embed description"></textarea>
                        <button class="tool-btn" onclick="generateEmbed()">Generate Embed JSON</button>
                        <div class="tool-result" id="embed-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Discord Timestamp Generator</h3>
                        <input type="datetime-local" class="tool-input" id="discord-timestamp">
                        <select class="tool-input" id="discord-timestamp-format" style="margin-top: 10px;">
                            <option value="f">Short Date/Time</option>
                            <option value="F">Long Date/Time</option>
                            <option value="t">Short Time</option>
                            <option value="T">Long Time</option>
                            <option value="d">Short Date</option>
                            <option value="D">Long Date</option>
                            <option value="R">Relative Time</option>
                        </select>
                        <button class="tool-btn" onclick="generateDiscordTimestamp()">Generate</button>
                        <div class="tool-result" id="discord-timestamp-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Discord Token Generator</h3>
                        <button class="tool-btn" onclick="generateDiscordToken()">Generate Fake Token</button>
                        <div class="tool-result" id="discord-token-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Discord Nitro Generator</h3>
                        <button class="tool-btn" onclick="generateFakeNitro()">Generate Fake Nitro</button>
                        <div class="tool-result" id="nitro-output"></div>
                    </div>
                </div>
            </div>

            <div id="game-tools" class="tab-content">
                <div class="tool-section">
                    <h2>Game Development Tools</h2>
                    
                    <div class="tool-container">
                        <h3>Roblox Lua Obfuscator</h3>
                        <textarea class="tool-input" id="lua-code" placeholder="Paste Lua code here"></textarea>
                        <button class="tool-btn" onclick="obfuscateLua()">Obfuscate</button>
                        <div class="tool-result" id="lua-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Roblox Place ID Finder</h3>
                        <input type="text" class="tool-input" id="roblox-url" placeholder="Roblox game URL">
                        <button class="tool-btn" onclick="findPlaceId()">Find Place ID</button>
                        <div class="tool-result" id="placeid-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Minecraft Command Generator</h3>
                        <select class="tool-input" id="mc-command">
                            <option value="give">Give Item</option>
                            <option value="effect">Effect</option>
                            <option value="teleport">Teleport</option>
                            <option value="summon">Summon Entity</option>
                        </select>
                        <div id="mc-command-params" style="margin-top: 15px;"></div>
                        <button class="tool-btn" onclick="generateMCCommand()">Generate</button>
                        <div class="tool-result" id="mc-command-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>FPS Calculator</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 15px;">
                            <input type="number" class="tool-input" id="fps-frames" placeholder="Total frames">
                            <input type="number" class="tool-input" id="fps-time" placeholder="Time (seconds)">
                        </div>
                        <button class="tool-btn" onclick="calculateFPS()">Calculate FPS</button>
                        <div class="tool-result" id="fps-output"></div>
                    </div>
                </div>
            </div>

            <div id="other-tools" class="tab-content">
                <div class="tool-section">
                    <h2>Other Useful Tools</h2>
                    
                    <div class="tool-container">
                        <h3>Password Generator</h3>
                        <input type="number" class="tool-input" id="pass-length" placeholder="Length (8-64)" min="8" max="64" value="12">
                        <div class="checkbox-group">
                            <label><input type="checkbox" id="pass-uppercase" checked> Uppercase</label>
                            <label><input type="checkbox" id="pass-numbers" checked> Numbers</label>
                            <label><input type="checkbox" id="pass-symbols"> Symbols</label>
                        </div>
                        <button class="tool-btn" onclick="generatePassword()">Generate</button>
                        <div class="tool-result" id="pass-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>QR Code Generator</h3>
                        <input type="text" class="tool-input" id="qr-text" placeholder="Text or URL">
                        <button class="tool-btn" onclick="generateQR()">Generate QR Code</button>
                        <div class="tool-result" id="qr-output" style="text-align: center;"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Text Encryption</h3>
                        <textarea class="tool-input" id="encrypt-text" placeholder="Text to encrypt/decrypt"></textarea>
                        <input type="text" class="tool-input" id="encrypt-key" placeholder="Secret key">
                        <button class="tool-btn" onclick="encryptText()">Encrypt</button>
                        <button class="tool-btn secondary" onclick="decryptText()">Decrypt</button>
                        <div class="tool-result" id="encrypt-output"></div>
                    </div>

                    <div class="tool-container">
                        <h3>Binary Converter</h3>
                        <textarea class="tool-input" id="binary-input" placeholder="Enter text or binary"></textarea>
                        <button class="tool-btn" onclick="textToBinary()">Text to Binary</button>
                        <button class="tool-btn secondary" onclick="binaryToText()">Binary to Text</button>
                        <div class="tool-result" id="binary-output"></div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <div class="social-links">
                <a href="https://www.youtube.com/@heyitspat_y" class="social-link" target="_blank">
                    <i class="fab fa-youtube"></i>
                </a>
                <a href="https://discord.gg/yhPuwb4qsX" class="social-link" target="_blank">
                    <i class="fab fa-discord"></i>
                </a>
                <a href="https://github.com/Kreativscripts" class="social-link" target="_blank">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://www.roblox.com/users/3963189371/profile" class="social-link" target="_blank">
                    <i class="fas fa-gamepad"></i>
                </a>
            </div>
            <p class="copyright">Â© 2025 Pat Williams. All rights reserved.</p>
        </footer>
    </div>

<script>
    // Tab functionality
    function openTab(tabId, event) {
        event.preventDefault();
        document.querySelectorAll('.tab-content').forEach(tab => {
            tab.classList.remove('active');
        });
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById(tabId).classList.add('active');
        event.currentTarget.classList.add('active');
        
        // Update URL without reloading
        const basePath = window.location.pathname.includes('/P/') ? '/P/' : '/';
        const newUrl = `${basePath}tools.html#${tabId}`;
        window.history.pushState({}, '', newUrl);
    }

    // Initialize tab from hash
    function initTabFromHash() {
        const hash = window.location.hash.substring(1);
        if (hash) {
            const tab = document.getElementById(hash);
            if (tab && tab.classList.contains('tab-content')) {
                document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                tab.classList.add('active');
                const btn = document.querySelector(`.tab-btn[onclick*="${hash}"]`);
                if (btn) btn.classList.add('active');
            }
        }
    }

    // Webhook Sender with improved error handling
    async function sendWebhook() {
        const url = document.getElementById('webhook-url').value.trim();
        const username = document.getElementById('webhook-username').value.trim();
        const content = document.getElementById('webhook-message').value.trim();
        const resultElement = document.getElementById('webhook-result');
        
        if (!url) {
            showResult(resultElement, 'Please enter a webhook URL', 'error');
            return;
        }
        
        // Validate URL format
        if (!url.match(/^https?:\/\/(?:discord\.com|discordapp\.com)\/api\/webhooks\/\d+\/[\w-]+$/i)) {
            showResult(resultElement, 'Invalid Discord webhook URL format', 'error');
            return;
        }
        
        if (!content) {
            showResult(resultElement, 'Please enter a message', 'error');
            return;
        }
        
        const payload = { content };
        if (username) payload.username = username;
        
        showResult(resultElement, 'Sending...', 'loading');
        
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            
            if (response.ok) {
                showResult(resultElement, 'Message sent successfully!', 'success');
                setTimeout(() => {
                    resultElement.textContent = '';
                    resultElement.style.color = '';
                }, 3000);
            } else {
                const error = await response.json().catch(() => ({ message: `HTTP ${response.status}` }));
                throw new Error(error.message || 'Failed to send webhook');
            }
        } catch (error) {
            showResult(resultElement, `Error: ${error.message}`, 'error');
        }
    }

    function showResult(element, message, type) {
        element.textContent = message;
        element.style.color = type === 'error' ? '#ff6b6b' : 
                            type === 'success' ? '#51cf66' : 
                            type === 'loading' ? '#fcc419' : '';
    }

    // JSON Formatter with syntax highlighting
    function formatJSON() {
        const input = document.getElementById('json-input').value.trim();
        const output = document.getElementById('json-output');
        
        if (!input) {
            output.textContent = 'Please enter JSON to format';
            return;
        }
        
        try {
            const parsed = JSON.parse(input);
            const formatted = JSON.stringify(parsed, null, 2);
            
            // Simple syntax highlighting
            output.innerHTML = formatted
                .replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|\b\d+\b)/g, match => {
                    if (/:$/.test(match)) {
                        return `<span class="json-key">${match}</span>`;
                    } else if (/^"/.test(match)) {
                        return `<span class="json-string">${match}</span>`;
                    } else if (/true|false|null/.test(match)) {
                        return `<span class="json-literal">${match}</span>`;
                    } else if (/\d+/.test(match)) {
                        return `<span class="json-number">${match}</span>`;
                    }
                    return match;
                });
        } catch (e) {
            output.textContent = `Invalid JSON: ${e.message}`;
        }
    }

    // Base64 Encoder/Decoder
    function encodeBase64() {
        const input = document.getElementById('base64-input').value.trim();
        const output = document.getElementById('base64-output');
        
        if (!input) {
            output.textContent = 'Please enter text to encode';
            return;
        }
        
        try {
            output.textContent = btoa(unescape(encodeURIComponent(input)));
        } catch (e) {
            output.textContent = `Error encoding: ${e.message}`;
        }
    }

    function decodeBase64() {
        const input = document.getElementById('base64-input').value.trim();
        const output = document.getElementById('base64-output');
        
        if (!input) {
            output.textContent = 'Please enter Base64 to decode';
            return;
        }
        
        try {
            // Check if input is valid Base64
            if (!/^[A-Za-z0-9+/=]+$/.test(input)) {
                throw new Error('Invalid Base64 characters');
            }
            output.textContent = decodeURIComponent(escape(atob(input)));
        } catch (e) {
            output.textContent = `Error decoding: ${e.message}`;
        }
    }

    // URL Encoder/Decoder
    function encodeURL() {
        const input = document.getElementById('url-input').value.trim();
        const output = document.getElementById('url-output');
        
        if (!input) {
            output.textContent = 'Please enter text to encode';
            return;
        }
        
        output.textContent = encodeURIComponent(input);
    }

    function decodeURL() {
        const input = document.getElementById('url-input').value.trim();
        const output = document.getElementById('url-output');
        
        if (!input) {
            output.textContent = 'Please enter URL to decode';
            return;
        }
        
        try {
            output.textContent = decodeURIComponent(input.replace(/\+/g, ' '));
        } catch (e) {
            output.textContent = `Error decoding URL: ${e.message}`;
        }
    }

    // HTML Escape/Unescape
    function escapeHTML() {
        const input = document.getElementById('html-input').value.trim();
        const output = document.getElementById('html-output');
        
        if (!input) {
            output.textContent = 'Please enter HTML to escape';
            return;
        }
        
        output.textContent = input
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;");
    }

    function unescapeHTML() {
        const input = document.getElementById('html-input').value.trim();
        const output = document.getElementById('html-output');
        
        if (!input) {
            output.textContent = 'Please enter HTML to unescape';
            return;
        }
        
        output.textContent = input
            .replace(/&amp;/g, "&")
            .replace(/&lt;/g, "<")
            .replace(/&gt;/g, ">")
            .replace(/&quot;/g, '"')
            .replace(/&#039;/g, "'")
            .replace(/&#x27;/g, "'");
    }

    // Color Converters
    function convertHex() {
        const hex = document.getElementById('hex-input').value.trim();
        const output = document.getElementById('hex-output');
        
        if (!hex) {
            output.textContent = 'Please enter a hex color';
            return;
        }
        
        // Validate hex format
        if (!/^#?([0-9A-F]{3}){1,2}$/i.test(hex)) {
            output.textContent = 'Invalid hex color format (e.g. #RRGGBB or #RGB)';
            return;
        }
        
        // Remove # if present
        const hexValue = hex.replace('#', '');
        let r, g, b;
        
        // Handle 3-digit hex
        if (hexValue.length === 3) {
            r = parseInt(hexValue[0] + hexValue[0], 16);
            g = parseInt(hexValue[1] + hexValue[1], 16);
            b = parseInt(hexValue[2] + hexValue[2], 16);
        } 
        // Handle 6-digit hex
        else {
            r = parseInt(hexValue.substring(0, 2), 16);
            g = parseInt(hexValue.substring(2, 4), 16);
            b = parseInt(hexValue.substring(4, 6), 16);
        }
        
        output.textContent = `RGB: ${r}, ${g}, ${b}\nHEX: #${hexValue.padStart(6, '0')}`;
    }

    function rgbToHex() {
        const r = parseInt(document.getElementById('rgb-r').value);
        const g = parseInt(document.getElementById('rgb-g').value);
        const b = parseInt(document.getElementById('rgb-b').value);
        const output = document.getElementById('rgb-hex-output');
        
        // Validate RGB values
        if (isNaN(r) || isNaN(g) || isNaN(b) || 
            r < 0 || r > 255 || g < 0 || g > 255 || b < 0 || b > 255) {
            output.textContent = 'Invalid RGB values (must be 0-255)';
            return;
        }
        
        const hex = '#' + [r, g, b].map(x => {
            const hex = x.toString(16);
            return hex.length === 1 ? '0' + hex : hex;
        }).join('');
        
        output.textContent = `HEX: ${hex.toUpperCase()}\nRGB: ${r}, ${g}, ${b}`;
    }

    // Timestamp Converter
    function convertTimestamp() {
        const input = document.getElementById('timestamp-input').value.trim();
        const output = document.getElementById('timestamp-output');
        
        if (!input) {
            output.textContent = 'Please enter a timestamp or date';
            return;
        }
        
        let date;
        
        // Handle Unix timestamp (seconds or milliseconds)
        if (/^\d+$/.test(input)) {
            date = new Date(input.length === 10 ? input * 1000 : +input);
        } 
        // Handle ISO date string or other date formats
        else {
            date = new Date(input);
        }
        
        if (isNaN(date.getTime())) {
            output.textContent = 'Invalid timestamp/date format';
            return;
        }
        
        const unixSeconds = Math.floor(date.getTime() / 1000);
        const unixMilliseconds = date.getTime();
        
        output.textContent = `
Local Time: ${date.toLocaleString()}
UTC Time: ${date.toUTCString()}
Unix Timestamp (seconds): ${unixSeconds}
Unix Timestamp (milliseconds): ${unixMilliseconds}
ISO 8601: ${date.toISOString()}`;
    }

    // UUID Generator
    function generateUUID() {
        const output = document.getElementById('uuid-output');
        const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            const r = Math.random() * 16 | 0;
            const v = c === 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
        output.textContent = uuid;
    }

    // Lorem Ipsum Generator
    function generateLorem() {
        const count = parseInt(document.getElementById('lorem-count').value) || 3;
        const output = document.getElementById('lorem-output');
        
        if (count < 1 || count > 20) {
            output.textContent = 'Please enter a number between 1 and 20';
            return;
        }
        
        const lorem = [
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
            'Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
            'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.',
            'Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.',
            'Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia.'
        ];
        
        let result = '';
        for (let i = 0; i < count; i++) {
            const sentences = [];
            const sentenceCount = 3 + Math.floor(Math.random() * 3);
            for (let j = 0; j < sentenceCount; j++) {
                sentences.push(lorem[Math.floor(Math.random() * lorem.length)]);
            }
            result += sentences.join(' ') + '\n\n';
        }
        
        output.textContent = result.trim();
    }

    // Discord Tools
    function generateEmbed() {
        const title = document.getElementById('embed-title').value.trim();
        const color = document.getElementById('embed-color').value.trim();
        const description = document.getElementById('embed-desc').value.trim();
        const output = document.getElementById('embed-output');
        
        if (!title && !description) {
            output.textContent = 'Please enter at least a title or description';
            return;
        }
        
        const embed = {
            title: title || undefined,
            description: description || undefined,
            color: color ? parseInt(color.replace('#', ''), 16) : undefined,
            timestamp: new Date().toISOString()
        };
        
        output.textContent = JSON.stringify({ embeds: [embed] }, null, 2);
    }

    function generateDiscordTimestamp() {
        const dateInput = document.getElementById('discord-timestamp').value;
        const format = document.getElementById('discord-timestamp-format').value;
        const output = document.getElementById('discord-timestamp-output');
        
        if (!dateInput) {
            output.textContent = 'Please select a date and time';
            return;
        }
        
        const date = new Date(dateInput);
        const timestamp = Math.floor(date.getTime() / 1000);
        
        output.textContent = `Discord Timestamp: <t:${timestamp}:${format}>\n\nRaw format: \`<t:${timestamp}:${format}>\``;
    }

    function generateDiscordToken() {
        const output = document.getElementById('discord-token-output');
        const part1 = btoa(Math.random().toString().substring(2)).substring(0, 24);
        const part2 = btoa(Math.random().toString().substring(2)).substring(0, 6);
        const part3 = btoa(Math.random().toString().substring(2)).substring(0, 27);
        output.textContent = `${part1}.${part2}.${part3}`;
    }

    function generateFakeNitro() {
        const output = document.getElementById('nitro-output');
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let code = '';
        
        for (let i = 0; i < 16; i++) {
            code += chars.charAt(Math.floor(Math.random() * chars.length));
            if (i % 4 === 3 && i < 15) code += '-';
        }
        
        output.textContent = `https://discord.gift/${code}`;
    }

    // Game Dev Tools
    function obfuscateLua() {
        const code = document.getElementById('lua-code').value.trim();
        const output = document.getElementById('lua-output');
        
        if (!code) {
            output.textContent = 'Please enter Lua code to obfuscate';
            return;
        }
        
        // Simple obfuscation - replace variable names
        const keywords = new Set(['and', 'break', 'do', 'else', 'elseif', 'end', 
                                'false', 'for', 'function', 'if', 'in', 'local', 
                                'nil', 'not', 'or', 'repeat', 'return', 'then', 
                                'true', 'until', 'while']);
        
        const varMap = {};
        let obfuscated = code;
        const varRegex = /\b(?!local\b)([a-zA-Z_][a-zA-Z0-9_]*)\b/g;
        let match;
        
        // Find all variables
        while ((match = varRegex.exec(code)) !== null) {
            const varName = match[1];
            if (!keywords.has(varName) && !varMap[varName] && varName.length > 2) {
                varMap[varName] = `_${Object.keys(varMap).length}`;
            }
        }
        
        // Replace variables
        Object.entries(varMap).forEach(([oldName, newName]) => {
            obfuscated = obfuscated.replace(new RegExp(`\\b${oldName}\\b`, 'g'), newName);
        });
        
        output.textContent = obfuscated;
    }

    function findPlaceId() {
        const url = document.getElementById('roblox-url').value.trim();
        const output = document.getElementById('placeid-output');
        
        if (!url) {
            output.textContent = 'Please enter a Roblox game URL';
            return;
        }
        
        const match = url.match(/(?:place\?id=|games\/)(\d+)/);
        if (match && match[1]) {
            output.textContent = `Place ID: ${match[1]}`;
        } else {
            output.textContent = 'Could not find Place ID in URL. Make sure it includes "place?id=" or "games/"';
        }
    }

    function generateMCCommand() {
        const type = document.getElementById('mc-command').value;
        const output = document.getElementById('mc-command-output');
        let command = '';
        
        switch (type) {
            case 'give':
                command = '/give @p minecraft:diamond 1';
                break;
            case 'effect':
                command = '/effect give @p minecraft:strength 60 1';
                break;
            case 'teleport':
                command = '/tp @p 100 64 100';
                break;
            case 'summon':
                command = '/summon minecraft:zombie ~ ~ ~ {CustomName:\'"Test Zombie"\', ArmorItems:[{},{},{},{id:"minecraft:diamond_helmet",Count:1b}]}';
                break;
        }
        
        output.textContent = command;
    }

    function calculateFPS() {
        const frames = parseInt(document.getElementById('fps-frames').value);
        const time = parseFloat(document.getElementById('fps-time').value);
        const output = document.getElementById('fps-output');
        
        if (isNaN(frames)) {
            output.textContent = 'Please enter a valid number of frames';
            return;
        }
        
        if (isNaN(time) || time <= 0) {
            output.textContent = 'Please enter a valid time (greater than 0)';
            return;
        }
        
        const fps = (frames / time).toFixed(2);
        output.textContent = `FPS: ${fps}`;
    }

    // Other Tools
    function generatePassword() {
        const length = parseInt(document.getElementById('pass-length').value) || 12;
        const uppercase = document.getElementById('pass-uppercase').checked;
        const numbers = document.getElementById('pass-numbers').checked;
        const symbols = document.getElementById('pass-symbols').checked;
        const output = document.getElementById('pass-output');
        
        if (length < 8 || length > 64) {
            output.textContent = 'Password length must be between 8 and 64';
            return;
        }
        
        let chars = 'abcdefghijklmnopqrstuvwxyz';
        if (uppercase) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        if (numbers) chars += '0123456789';
        if (symbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';
        
        let password = '';
        for (let i = 0; i < length; i++) {
            password += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        
        output.textContent = password;
    }

    function generateQR() {
        const text = document.getElementById('qr-text').value.trim();
        const output = document.getElementById('qr-output');
        
        if (!text) {
            output.textContent = 'Please enter text or URL to generate QR code';
            return;
        }
        
        const size = 200;
        const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=${size}x${size}&data=${encodeURIComponent(text)}`;
        output.innerHTML = `<img src="${qrUrl}" alt="QR Code" style="max-width: 100%; height: auto; border: 1px solid #444;">`;
    }

    // Text Encryption/Decryption (simple XOR cipher)
    function encryptText() {
        const text = document.getElementById('encrypt-text').value.trim();
        const key = document.getElementById('encrypt-key').value.trim();
        const output = document.getElementById('encrypt-output');
        
        if (!text) {
            output.textContent = 'Please enter text to encrypt';
            return;
        }
        
        if (!key) {
            output.textContent = 'Please enter an encryption key';
            return;
        }
        
        let result = '';
        for (let i = 0; i < text.length; i++) {
            const charCode = text.charCodeAt(i) ^ key.charCodeAt(i % key.length);
            result += String.fromCharCode(charCode);
        }
        
        output.textContent = btoa(result);
    }

    function decryptText() {
        const text = document.getElementById('encrypt-text').value.trim();
        const key = document.getElementById('encrypt-key').value.trim();
        const output = document.getElementById('encrypt-output');
        
        if (!text) {
            output.textContent = 'Please enter text to decrypt';
            return;
        }
        
        if (!key) {
            output.textContent = 'Please enter the decryption key';
            return;
        }
        
        try {
            const decoded = atob(text);
            let result = '';
            for (let i = 0; i < decoded.length; i++) {
                const charCode = decoded.charCodeAt(i) ^ key.charCodeAt(i % key.length);
                result += String.fromCharCode(charCode);
            }
            output.textContent = result;
        } catch (e) {
            output.textContent = 'Error: Invalid base64 input';
        }
    }

    // Binary Converter
    function textToBinary() {
        const text = document.getElementById('binary-input').value.trim();
        const output = document.getElementById('binary-output');
        
        if (!text) {
            output.textContent = 'Please enter text to convert';
            return;
        }
        
        let binary = '';
        for (let i = 0; i < text.length; i++) {
            binary += text.charCodeAt(i).toString(2).padStart(8, '0') + ' ';
        }
        
        output.textContent = binary.trim();
    }

    function binaryToText() {
        const binary = document.getElementById('binary-input').value.trim();
        const output = document.getElementById('binary-output');
        
        if (!binary) {
            output.textContent = 'Please enter binary to convert';
            return;
        }
        
        // Clean input (remove non-binary characters)
        const cleanBinary = binary.replace(/[^01]/g, '');
        
        // Split into 8-bit chunks
        const chunks = [];
        for (let i = 0; i < cleanBinary.length; i += 8) {
            chunks.push(cleanBinary.substring(i, i + 8));
        }
        
        let text = '';
        for (const chunk of chunks) {
            if (chunk.length === 8) {
                text += String.fromCharCode(parseInt(chunk, 2));
            }
        }
        
        output.textContent = text;
    }

    // Initialize on DOM load
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM fully loaded');
        
        // Hide loader and show content after timeout
        setTimeout(() => {
            const loader = document.getElementById('loader');
            const mainContent = document.getElementById('main-content');
            
            if (loader) loader.style.display = 'none';
            if (mainContent) mainContent.style.display = 'block';
            
            console.log('Loader hidden, main content shown');
            
            try {
                initTabFromHash();
                
                // Fix all internal links to maintain /P/ path if needed
                document.querySelectorAll('a').forEach(link => {
                    if (link.href && link.href.includes(window.location.host) && 
                        !link.href.includes('/P/') && 
                        !link.getAttribute('href').startsWith('http') &&
                        !link.getAttribute('href').startsWith('#')) {
                        
                        const currentPath = window.location.pathname;
                        const basePath = currentPath.includes('/P/') ? '/P/' : '/';
                        
                        if (link.getAttribute('href').startsWith('/')) {
                            link.href = basePath + link.getAttribute('href').substring(1);
                        } else {
                            link.href = basePath + link.getAttribute('href');
                        }
                    }
                });
            } catch (e) {
                console.error('Initialization error:', e);
            }
        }, 1000);
    });

    // Fallback in case loader gets stuck
    window.addEventListener('load', function() {
        console.log('Window fully loaded');
        const loader = document.getElementById('loader');
        if (loader) loader.style.display = 'none';
        
        const mainContent = document.getElementById('main-content');
        if (mainContent) mainContent.style.display = 'block';
    });

    // Maximum timeout for loader (5 seconds)
    setTimeout(() => {
        const loader = document.getElementById('loader');
        if (loader) loader.style.display = 'none';
        
        const mainContent = document.getElementById('main-content');
        if (mainContent) mainContent.style.display = 'block';
    }, 5000);

    // Handle hash changes
    window.addEventListener('hashchange', initTabFromHash);
</script>
</body>
</html>
